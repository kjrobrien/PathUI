# PathWeaver

[PathWeaver](https://github.com/wpilibsuite/PathWeaver) allows you to create better paths for for your FRC robots. These paths are generated by [Jaci's Pathfinder](https://github.com/JacisNonsense/Pathfinder). Put simply, Pathfinder calculates paths based upon waypoints (where you want to go) and the dynamics of your robot (its maximum velocity, acceleration, size, etc). PathWeaver is a program that allows you to visualize these paths as you are designing them. It then allows you to quickly and easily adjust the paths by dragging the waypoints with your mouse around the field. PathWeaver also allows you to visualize multiple paths at once so you can stage several sections of an autonomous routine or visualize the differences between paths.
# Getting Started
1. Install WPILib using the instructions found on [ScreenSteps](https://wpilib.screenstepslive.com/s/4485). PathWeaver is bundled with WPILib.
2. Open PathWeaver and create a new project.
    * Choose a directory to store the project. It is recommended to choose the same directory as your robot code.
    * Fill in information about your robot's kinematics. If you don't know this right now, we recommend testing the program with the following defaults. Note: these most likely will not apply to your robot, it just allows you to get started creating paths. These can be changed later by choosing the "Edit Project..." button.
        * Time Step: 0.02 - This is the default rate of the loop running on the roboRIO.
        * Game: FIRST Power Up
        * Max Velocity: 7 ft/s
        * Max Acceleration: 10 ft/s/s
        * Max Jerk: 60 ft/s/s/s This is the rate at which you would like your robot to accelerate and is mostly user preference.
        * Wheel Base: 2 ft
    * Press "Create Project"
3. Begin by pressing "+" under Paths to add your first path. You can click on the triangles (Waypoints) and drag them around to position them on the field. Drag in the area between Waypoints to add a new Waypoint.
    * Additionally, you can manually edit the values by using the "Edit Waypoints" pane at the bottom of the screen.
    * The exit angles of each Waypoint within a path are calculated automatically based upon what PathWeaver believes to be the ideal angle. You can change this by dragging the tangent vector (blue line). The start and end positions are not calculated automatically as the starting and ending orientations must be specified by the user.
4. You can visualize multiple Paths by creating an Autonomous. Do this by pressing the "+" under Autonomous. You can drag your paths from the Paths section to your Autonomous to view multiple Paths at once. The feature is useful when you are staging multiple sections of an autonomous.
5. Once you are satisifed with your paths, you can generate the corresponding [Pathfinder](https://github.com/JacisNonsense/Pathfinder) trajectories by pressing "Build Pathfinder". These trajectories are CSV files that are put in a subdirectory called "output" of the directory you chose when creating the project. The trajectories contain the actual positions and velocities for the left and right side of your drivetrain. As of right now, these must be uploaded to the roboRIO and called from your robot code. The plan for the 2019 season is that these files will be automatically deployed to the robot when deploying code, but this is not currently available. More information about loading these files can be found [here](https://github.com/JacisNonsense/Pathfinder/wiki/Saving-and-Loading-Trajectories-to-File#loading-1). Instructions for then driving your robot based upon the loaded trajectories can be found [here](https://github.com/JacisNonsense/Pathfinder/wiki/Pathfinder-for-FRC---Java#following-a-trajectory).
